import{Q as i}from"./QTooltip-B6ZEMbHi.js";import{_ as h,d as g,M as b,N as c,O as o,aq as v,f as t,au as y,P as n,U as r,V as l,S as m,X as u,aE as p,Y as P}from"./index-NBAmjDPo.js";import{Q as d}from"./QItemLabel-Bs93CYCt.js";import{Q as $}from"./QForm-2fLQLKgE.js";import{Q as S}from"./QInnerLoading-DLOuihN2.js";import{Q as V}from"./QPage-vWYdfFDK.js";import{P as w}from"./PageHeader-Bnmx8R_2.js";import"./QMenu-ikSdQUIb.js";const Q=g({name:"WebServerPage",components:{PageHeader:w},data(){return{loading:!1,configurationForm:{chariotServerName:"",httpEnabled:!0,httpPort:null,httpsEnabled:!1,httpsPort:null}}},async created(){this.loading=!0;try{const e=await this.$api.get("/config/system");this.configurationForm={...e.data}}catch(e){this.$q.notify({type:"negative",message:e.response.data.message})}this.loading=!1},methods:{async onSaveServer(){this.loading=!0;try{await this.$api.put("/config/system",this.configurationForm),this.$q.notify({type:"positive",message:this.$t("webserver.webserverUpdate")})}catch(e){this.$q.notify({type:"negative",message:e.response.data.message})}this.loading=!1}}}),F={class:"chariot-form-input"},q={class:"chariot-form-input q-mt-md"},N={class:"chariot-form-input"},E={class:"chariot-form-input q-mt-md"},T={class:"chariot-form-input"},_={class:"q-mt-md row justify-end"};function H(e,a,U,B,C,I){const f=v("PageHeader");return c(),b(V,{class:"chariot-page-container"},{default:o(()=>[t(f,{title:"Web Server",icon:"computer"}),t(y,{class:"chariot-page-container-body q-pa-md"},{default:o(()=>[t($,{onSubmit:e.onSaveServer},{default:o(()=>[n("label",F,[t(d,{for:"chariotServerName",class:"q-mb-sm"},{default:o(()=>[r(l(e.$t("webserver.chariotServerName"))+" ",1),t(m,{color:"light",name:"help"},{default:o(()=>[t(i,null,{default:o(()=>[r(l(e.$t("webserver.chariotServerNameTooltip")),1)]),_:1})]),_:1})]),_:1}),t(u,{for:"chariotServerName",modelValue:e.configurationForm.chariotServerName,"onUpdate:modelValue":a[0]||(a[0]=s=>e.configurationForm.chariotServerName=s),dense:"",outlined:""},null,8,["modelValue"])]),n("label",q,[t(d,null,{default:o(()=>[r(l(e.$t("webserver.enableHttp"))+" ",1),t(m,{color:"light",name:"help"},{default:o(()=>[t(i,null,{default:o(()=>[r(l(e.$t("webserver.enableHttpTooltip")),1)]),_:1})]),_:1})]),_:1}),t(p,{for:"httpEnabled",modelValue:e.configurationForm.httpEnabled,"onUpdate:modelValue":a[1]||(a[1]=s=>e.configurationForm.httpEnabled=s)},null,8,["modelValue"])]),n("label",N,[t(d,{class:"q-mb-sm"},{default:o(()=>[r(l(e.$t("webserver.httpPort"))+" ",1),t(m,{color:"light",name:"help"},{default:o(()=>[t(i,null,{default:o(()=>[r(l(e.$t("webserver.httpPortTooltip")),1)]),_:1})]),_:1})]),_:1}),t(u,{modelValue:e.configurationForm.httpPort,"onUpdate:modelValue":a[2]||(a[2]=s=>e.configurationForm.httpPort=s),for:"httpPort",dense:"",outlined:""},null,8,["modelValue"])]),n("label",E,[t(d,null,{default:o(()=>[r(l(e.$t("webserver.enableHttps"))+" ",1),t(m,{color:"light",name:"help"},{default:o(()=>[t(i,null,{default:o(()=>[r(l(e.$t("webserver.enableHttpsTooltip")),1)]),_:1})]),_:1})]),_:1}),t(p,{modelValue:e.configurationForm.httpsEnabled,"onUpdate:modelValue":a[3]||(a[3]=s=>e.configurationForm.httpsEnabled=s)},null,8,["modelValue"])]),n("label",T,[t(d,{class:"q-mb-sm"},{default:o(()=>[r(l(e.$t("webserver.httpsPort"))+" ",1),t(m,{color:"light",name:"help"},{default:o(()=>[t(i,null,{default:o(()=>[r(l(e.$t("webserver.httpsPortTooltip")),1)]),_:1})]),_:1})]),_:1}),t(u,{modelValue:e.configurationForm.httpsPort,"onUpdate:modelValue":a[4]||(a[4]=s=>e.configurationForm.httpsPort=s),for:"httpsPort",dense:"",outlined:""},null,8,["modelValue"])]),n("div",_,[t(P,{label:"Save",type:"submit",color:"primary",loading:e.loading},null,8,["loading"])])]),_:1},8,["onSubmit"]),t(S,{showing:e.loading,color:"primary",label:"Loading...","label-style":"font-size: 1.1em"},null,8,["showing"])]),_:1})]),_:1})}const X=h(Q,[["render",H]]);export{X as default};
