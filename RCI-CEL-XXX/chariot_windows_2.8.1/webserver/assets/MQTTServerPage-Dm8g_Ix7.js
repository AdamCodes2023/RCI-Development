import{Q,a as V,b as E,c as y}from"./QTabPanels-Cp3Ya--g.js";import{_ as F,d as T,Q as k,N as C,f as l,O as t,P as s,U as i,V as r,S as u,aE as b,X as p,aq as $,Y as w,M as q,ar as L,aK as U,aN as M,aO as I,$ as N,ax as R,au as W,at as D}from"./index-NBAmjDPo.js";import{Q as O}from"./QPage-vWYdfFDK.js";import{P as j}from"./PageHeader-Bnmx8R_2.js";import{Q as a}from"./QTooltip-B6ZEMbHi.js";import{Q as m}from"./QItemLabel-Bs93CYCt.js";import{Q as G}from"./QSelect-DFMwG8q_.js";import{Q as H}from"./QExpansionItem-DjKZC-Oq.js";import{Q as B}from"./QForm-2fLQLKgE.js";import{Q as z}from"./QInnerLoading-DLOuihN2.js";import{S as A}from"./SelectWithAdd-C8gMwKTW.js";import{a as P,Q as K}from"./QTable-BxDh1Klk.js";import{u as X,r as Y}from"./index-UpHJnuVP.js";import{B as J}from"./BasicModal-C1PQ0FKo.js";import{C as Z}from"./ConfirmationModal-Dz1SD7zn.js";import"./QResizeObserver-D41I_oPa.js";import"./QMenu-ikSdQUIb.js";import"./QList-Dp5SD6bt.js";import"./QMarkupTable-ByLNg887.js";import"./QToolbar-CdQr3U-3.js";import"./ClosePopup-BPFWk25n.js";const _=T({name:"MQTTServerConfigurationTab",components:{SelectWithAdd:A},data(){return{loading:!1,anonUsers:[],allAnonUsers:[],serverForm:{enableNonSecure:!1,port:null,enableSecure:!1,securePort:null,webSocketEnable:!1,webSocketPort:null,webSocketEnableSecure:!1,webSocketSecurePort:null,bindAddress:"",allowAnonymous:!1,enforceUniqueLwtTopic:!1,anonymousAuthUsername:[]}}},async created(){this.loading=!0;try{const e=await this.$api.get("/config/server"),g=(await this.$api.get("/mqttusers")).data.results;g.forEach((f,c)=>{g[c].label=f.username}),this.anonUsers=[{username:null,label:this.$t("mqttServer.noneSelected")}],g.forEach(f=>{this.anonUsers.push({username:f.username,label:f.label})}),this.serverForm={enforceUniqueLwtTopic:!1,uniqueLwtTopicFilters:null,...e.data,anonymousAuthUsername:{username:e.data.anonymousAuthUsername?e.data.anonymousAuthUsername:null,label:e.data.anonymousAuthUsername?e.data.anonymousAuthUsername:this.$t("mqttServer.noneSelected")}},this.serverForm.uniqueLwtTopicFilters!==null?this.serverForm.uniqueLwtTopicFilters.length===0?this.serverForm.uniqueLwtTopicFilters=[]:this.serverForm.uniqueLwtTopicFilters=this.serverForm.uniqueLwtTopicFilters.split(","):this.serverForm.uniqueLwtTopicFilters=[],this.loading=!1}catch(e){this.$q.notify({type:"negative",message:e.response.data.message})}},methods:{async onUpdateServerConfiguration(){const e={...this.serverForm};e.anonymousAuthUsername=e.anonymousAuthUsername===null?null:e.anonymousAuthUsername.username,U.isArray(e.uniqueLwtTopicFilters)?e.uniqueLwtTopicFilters.length===0?e.uniqueLwtTopicFilters=null:e.uniqueLwtTopicFilters=e.uniqueLwtTopicFilters.join(","):U.isString(e.uniqueLwtTopicFilters)&&(e.uniqueLwtTopicFilters=null),this.loading=!0;try{await this.$api.put("/config/server",e),this.$q.notify({type:"positive",message:this.$t("mqttServer.serverSave")})}catch(o){this.$q.notify({type:"negative",message:o.response.data.message})}this.loading=!1}},computed:{isValidConfig(){return this.serverForm.enableNonSecure||this.serverForm.enableSecure||this.serverForm.webSocketEnable||this.serverForm.webSocketEnableSecure}}}),x={class:"chariot-form-input"},ee={class:"chariot-form-input"},le={class:"chariot-form-input q-mt-md"},te={class:"chariot-form-input"},oe={class:"chariot-form-input q-mt-md"},ie={class:"chariot-form-input"},re={class:"chariot-form-input q-mt-md"},ne={class:"chariot-form-input"},se={class:"chariot-form-input q-mt-md"},ae={class:"chariot-form-input q-mt-md"},de={class:"chariot-form-input"},ue={class:"chariot-form-input"},me={class:"chariot-form-input"},pe={class:"q-mt-md row justify-end"};function be(e,o,g,f,c,h){const v=$("SelectWithAdd");return C(),k("div",null,[l(B,{onSubmit:e.onUpdateServerConfiguration},{default:t(()=>[s("label",x,[l(m,null,{default:t(()=>[i(r(e.$t("mqttServer.enableNonsecure"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.enableNonsecure")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.enableNonSecure,"onUpdate:modelValue":o[0]||(o[0]=d=>e.serverForm.enableNonSecure=d)},null,8,["modelValue"])]),s("label",ee,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.port"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.port")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.serverForm.port,"onUpdate:modelValue":o[1]||(o[1]=d=>e.serverForm.port=d),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",le,[l(m,null,{default:t(()=>[i(r(e.$t("mqttServer.enableSecure"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.enableSecure")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.enableSecure,"onUpdate:modelValue":o[2]||(o[2]=d=>e.serverForm.enableSecure=d)},null,8,["modelValue"])]),s("label",te,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.securePort"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.securePort")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.serverForm.securePort,"onUpdate:modelValue":o[3]||(o[3]=d=>e.serverForm.securePort=d),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",oe,[l(m,null,{default:t(()=>[i(r(e.$t("mqttServer.webSocketEnable"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.webSocketEnable")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.webSocketEnable,"onUpdate:modelValue":o[4]||(o[4]=d=>e.serverForm.webSocketEnable=d)},null,8,["modelValue"])]),s("label",ie,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.webSocketPort"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.webSocketPort")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.serverForm.webSocketPort,"onUpdate:modelValue":o[5]||(o[5]=d=>e.serverForm.webSocketPort=d),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",re,[l(m,null,{default:t(()=>[i(r(e.$t("mqttServer.webSocketEnableSecure"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.webSocketEnableSecure")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.webSocketEnableSecure,"onUpdate:modelValue":o[6]||(o[6]=d=>e.serverForm.webSocketEnableSecure=d)},null,8,["modelValue"])]),s("label",ne,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.webSocketSecurePort"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.webSocketSecurePort")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.serverForm.webSocketSecurePort,"onUpdate:modelValue":o[7]||(o[7]=d=>e.serverForm.webSocketSecurePort=d),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",se,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.bindAddress"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.bindAddress")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.serverForm.bindAddress,"onUpdate:modelValue":o[8]||(o[8]=d=>e.serverForm.bindAddress=d),dense:"",outlined:""},null,8,["modelValue"])]),s("label",ae,[l(m,null,{default:t(()=>[i(r(e.$t("mqttServer.allowAnonymous"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.tooltips.allowAnonymous")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.allowAnonymous,"onUpdate:modelValue":o[9]||(o[9]=d=>e.serverForm.allowAnonymous=d)},null,8,["modelValue"])]),s("label",de,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("mqttServer.anonCreds"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("mqttServer.anonCredsTooltip")),1)]),_:1})]),_:1})]),_:1}),l(G,{modelValue:e.serverForm.anonymousAuthUsername,"onUpdate:modelValue":o[10]||(o[10]=d=>e.serverForm.anonymousAuthUsername=d),outlined:"",dense:"",options:e.anonUsers},null,8,["modelValue","options"])]),l(H,{"header-class":"chariot-form-collapse-group"},{header:t(()=>[...o[13]||(o[13]=[i(" Advanced Options ",-1)])]),default:t(()=>[s("label",ue,[l(m,null,{default:t(()=>[o[15]||(o[15]=i(" Enforce Unique LWT Topics ",-1)),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[...o[14]||(o[14]=[i(" Whether to enforce a connecting client's LWT topic is not currently registered with another active client, otherwise the connect attempt will be rejected ",-1)])]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.serverForm.enforceUniqueLwtTopic,"onUpdate:modelValue":o[11]||(o[11]=d=>e.serverForm.enforceUniqueLwtTopic=d)},null,8,["modelValue"])]),s("label",me,[l(m,{class:"q-mb-sm"},{default:t(()=>[o[17]||(o[17]=i(" Unique LWT Topic Filters ",-1)),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[...o[16]||(o[16]=[i(" If “Enforce Unique LWT Topics” is enabled, any connecting client with an LWT on a topic matching any of the topic filters here will have their connection attempt rejected if there is an existing active client with the same LWT topic connected to the server ",-1)])]),_:1})]),_:1})]),_:1}),l(v,{modelValue:e.serverForm.uniqueLwtTopicFilters,"onUpdate:modelValue":o[12]||(o[12]=d=>e.serverForm.uniqueLwtTopicFilters=d)},null,8,["modelValue"])])]),_:1}),s("div",pe,[l(w,{label:"Save",type:"submit",color:"primary",loading:e.loading,disabled:!e.isValidConfig},{default:t(()=>[e.isValidConfig?L("",!0):(C(),q(a,{key:0},{default:t(()=>[...o[18]||(o[18]=[i(" One port must be enabled for the server to function. Either enable non-secure, secure, web socket or web socket secure. ",-1)])]),_:1}))]),_:1},8,["loading","disabled"])])]),_:1},8,["onSubmit"]),l(z,{showing:e.loading,color:"primary",label:"Loading...","label-style":"font-size: 1.1em"},null,8,["showing"])])}const ge=F(_,[["render",be]]),fe=T({name:"MQTTServerBridgingTab",setup:()=>({v$:X()}),components:{BasicModal:J,SelectWithAdd:A},data(){return{loading:!1,showPassword:!0,showEditBridgeClient:!1,selectedBridgeClient:null,pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:I("bridging"),rowsNumber:0},bridgeClientForm:{name:"",enabled:!1,username:"",password:"",address:"localhost",port:1883,useTls:!1,clientId:"",keepAlive:30,cleanSession:!0,allowRetained:!0,tryPrivate:!0,pubTopics:[],subTopics:[]},rows:[],columns:[{name:"name",label:"Name",field:"name",align:"left",sortable:!1},{name:"address",align:"left",label:"Address",field:"address",sortable:!1},{name:"port",align:"left",label:"Port",field:"port",sortable:!1},{name:"clientId",align:"left",label:"Client ID",field:"clientId",sortable:!1},{name:"enabled",align:"left",label:"Enabled",field:"enabled",sortable:!1},{name:"actions",label:"",field:"actions",sortable:!1}]}},validations(){return{bridgeClientForm:{name:{required:Y}}}},async created(){this.updateGrid({pagination:this.pagination})},methods:{async updateGrid(e){const{page:o,rowsPerPage:g,sortBy:f,descending:c}=e.pagination;this.loading=!0,this.pagination.page=o,this.pagination.rowsPerPage=g,this.pagination.sortBy=f,this.pagination.descending=c;try{const h=await this.$api.get(`/bridgeclients?limit=${this.pagination.rowsPerPage}&offset=${this.pagination.rowsPerPage*(this.pagination.page-1)}`);this.rows=h.data.results,this.pagination.rowsNumber=h.data.info.total}catch(h){this.$q.notify({type:"negative",message:h.response.data.message})}this.loading=!1},async onSaveBridgeclientResponse(){const e={...this.bridgeClientForm};if(await this.v$.$validate()){e.pubTopics===null||e.pubTopics.length===0?e.pubTopics=null:e.pubTopics=e.pubTopics.join(","),e.subTopics===null||e.subTopics.length===0?e.subTopics=null:e.subTopics=e.subTopics.join(","),e.password&&e.password.length===0&&delete e.password;try{this.selectedBridgeClient===null?(await this.$api.post(`/bridgeclients/${this.bridgeClientForm.name}`,e),this.$q.notify({type:"positive",message:this.$t("bridgeClient.createSuccess")})):(await this.$api.put(`/bridgeclients/${this.bridgeClientForm.name}`,e),this.$q.notify({type:"positive",message:this.$t("bridgeClient.updateSuccess")})),this.updateGrid({pagination:{...this.pagination,page:1}}),this.$refs.bridgeClientFormModal.toggle()}catch(g){this.$q.notify({type:"negative",message:g.response.data.message})}}},async onSaveDeleteBridgeClient(){try{await this.$api.delete(`/bridgeclients/${this.selectedBridgeClient.name}`),this.updateGrid({pagination:{...this.pagination,page:1}}),this.$q.notify({type:"positive",message:this.$t("bridgeClient.deleteSuccess")})}catch(e){this.$q.notify({type:"negative",message:e.response.data.message})}this.selectedBridgeClient=null},onClickEditBridgeClient(e){this.selectedBridgeClient={...e},this.bridgeClientForm={...e},this.bridgeClientForm.pubTopics!==null&&(this.bridgeClientForm.pubTopics=this.bridgeClientForm.pubTopics.split(",")),this.bridgeClientForm.subTopics!==null&&(this.bridgeClientForm.subTopics=this.bridgeClientForm.subTopics.split(",")),this.showEditBridgeClient=!0},onClickDeleteBridgeClient(e){this.selectedBridgeClient=e,this.$q.dialog({component:Z,componentProps:{message:this.$t("bridgeClient.deleteBridgeClientMessage",{name:this.selectedBridgeClient.name}),title:this.$t("bridgeClient.deleteBridgeClient"),type:"error",okText:this.$t("shared.delete")}}).onOk(()=>{this.onSaveDeleteBridgeClient()}).onDismiss(()=>{this.selectedBridgeClient=null})},onClickAddBridgeClient(){this.showEditBridgeClient=!0},onCloseBridgeClient(){this.v$.$reset(),this.showEditBridgeClient=!1,this.bridgeClientForm={name:"",enabled:!1,password:"",username:"",address:"localhost",port:1883,useTls:!1,clientId:"",keepAlive:30,cleanSession:!0,allowRetained:!0,tryPrivate:!0,pubTopics:[],subTopics:[]},this.selectedBridgeClient=null}},watch:{"pagination.rowsPerPage":{handler(){M("bridging",this.pagination.rowsPerPage)}}}}),he={class:"chariot-form-input"},ce={class:"chariot-form-input"},ve={class:"chariot-form-input"},Ce={class:"chariot-form-input q-mt-md"},$e={class:"chariot-form-input q-mt-md"},Se={class:"chariot-form-input q-mt-md"},we={class:"chariot-form-input q-mt-md"},qe={class:"chariot-form-input"},Fe={class:"chariot-form-input q-mt-md"},Te={class:"chariot-form-input q-mt-md"},Ve={class:"chariot-form-input"},ye={class:"chariot-form-input"},Ue={class:"chariot-form-input"},Pe={class:"chariot-form-input q-mt-md"};function ke(e,o,g,f,c,h){const v=$("SelectWithAdd"),d=$("BasicModal");return C(),k("div",null,[l(K,{pagination:e.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>e.pagination=n),onRequest:e.updateGrid,loading:e.loading,rows:e.rows,columns:e.columns,"row-key":"name","rows-per-page-options":[5,10,20,50,100]},{top:t(()=>[l(w,{color:"primary",label:e.$t("bridgeClient.addBridgeClient"),onClick:e.onClickAddBridgeClient},null,8,["label","onClick"])]),"body-cell-enabled":t(n=>[l(P,{props:n},{default:t(()=>[n.row.enabled?(C(),q(u,{key:0,class:"text-positive",size:"18px",name:"check_circle"})):(C(),q(u,{key:1,class:"text-negative",size:"18px",name:"cancel"}))]),_:2},1032,["props"])]),"body-cell-actions":t(n=>[l(P,{props:n},{default:t(()=>[l(w,{onClick:S=>e.onClickEditBridgeClient(n.row),flat:"",round:"",color:"primary-light",icon:"edit"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.editBridgeClient")),1)]),_:1})]),_:1},8,["onClick"]),l(w,{onClick:S=>e.onClickDeleteBridgeClient(n.row),flat:"",round:"",color:"negative",icon:"delete"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.deleteBridgeClient")),1)]),_:1})]),_:1},8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["pagination","onRequest","loading","rows","columns"]),l(d,{ref:"bridgeClientFormModal",open:e.showEditBridgeClient,"show-footer":!0,title:e.selectedBridgeClient===null?e.$t("bridgeClient.createBridgeClient"):e.$t("bridgeClient.editBridgeClient"),onOnClose:e.onCloseBridgeClient,onOnSave:e.onSaveBridgeclientResponse},{default:t(()=>[l(B,{class:"q-gutter-y-md column"},{default:t(()=>[s("div",null,[s("label",he,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("bridgeClient.name"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.name")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.v$.bridgeClientForm.name.$model,"onUpdate:modelValue":o[1]||(o[1]=n=>e.v$.bridgeClientForm.name.$model=n),error:e.v$.bridgeClientForm.name.$error,"error-message":e.$t("shared.validation.required"),disable:e.selectedBridgeClient!==null,dense:"",outlined:""},null,8,["modelValue","error","error-message","disable"])]),s("label",ce,[l(m,null,{default:t(()=>[i(r(e.$t("shared.enabled"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.enabled")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.bridgeClientForm.enabled,"onUpdate:modelValue":o[2]||(o[2]=n=>e.bridgeClientForm.enabled=n)},null,8,["modelValue"])]),s("label",ve,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("shared.username"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.username")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.username,"onUpdate:modelValue":o[3]||(o[3]=n=>e.bridgeClientForm.username=n),dense:"",outlined:""},null,8,["modelValue"])]),s("label",Ce,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("shared.password"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.password")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.password,"onUpdate:modelValue":o[5]||(o[5]=n=>e.bridgeClientForm.password=n),outlined:"",dense:"",type:e.showPassword?"password":"text"},{append:t(()=>[l(w,{flat:"",dense:"",rounded:"",icon:e.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[4]||(o[4]=n=>e.showPassword=!e.showPassword)},null,8,["icon"])]),_:1},8,["modelValue","type"])]),s("label",$e,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("shared.address"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.address")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.address,"onUpdate:modelValue":o[6]||(o[6]=n=>e.bridgeClientForm.address=n),dense:"",outlined:""},null,8,["modelValue"])]),s("label",Se,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("shared.port"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.port")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.port,"onUpdate:modelValue":o[7]||(o[7]=n=>e.bridgeClientForm.port=n),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",we,[l(m,null,{default:t(()=>[i(r(e.$t("bridgeClient.useTls"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.useTls")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.bridgeClientForm.useTls,"onUpdate:modelValue":o[8]||(o[8]=n=>e.bridgeClientForm.useTls=n)},null,8,["modelValue"])]),s("label",qe,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("bridgeClient.clientId"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.clientId")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.clientId,"onUpdate:modelValue":o[9]||(o[9]=n=>e.bridgeClientForm.clientId=n),dense:"",outlined:""},null,8,["modelValue"])]),s("label",Fe,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("bridgeClient.keepAlive"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.keepAlive")),1)]),_:1})]),_:1})]),_:1}),l(p,{modelValue:e.bridgeClientForm.keepAlive,"onUpdate:modelValue":o[10]||(o[10]=n=>e.bridgeClientForm.keepAlive=n),modelModifiers:{number:!0},type:"number",dense:"",outlined:""},null,8,["modelValue"])]),s("label",Te,[l(m,null,{default:t(()=>[i(r(e.$t("bridgeClient.cleanSession"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.cleanSession")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.bridgeClientForm.cleanSession,"onUpdate:modelValue":o[11]||(o[11]=n=>e.bridgeClientForm.cleanSession=n)},null,8,["modelValue"])]),s("label",Ve,[l(m,null,{default:t(()=>[i(r(e.$t("bridgeClient.allowRetained"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.allowRetained")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.bridgeClientForm.allowRetained,"onUpdate:modelValue":o[12]||(o[12]=n=>e.bridgeClientForm.allowRetained=n)},null,8,["modelValue"])]),s("label",ye,[l(m,null,{default:t(()=>[i(r(e.$t("bridgeClient.tryPrivate"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.tryPrivate")),1)]),_:1})]),_:1})]),_:1}),l(b,{modelValue:e.bridgeClientForm.tryPrivate,"onUpdate:modelValue":o[13]||(o[13]=n=>e.bridgeClientForm.tryPrivate=n)},null,8,["modelValue"])]),s("label",Ue,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("bridgeClient.publishTopics"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.publishTopics")),1)]),_:1})]),_:1})]),_:1}),l(v,{modelValue:e.bridgeClientForm.pubTopics,"onUpdate:modelValue":o[14]||(o[14]=n=>e.bridgeClientForm.pubTopics=n)},null,8,["modelValue"])]),s("label",Pe,[l(m,{class:"q-mb-sm"},{default:t(()=>[i(r(e.$t("bridgeClient.subscribeTopics"))+" ",1),l(u,{color:"light",name:"help"},{default:t(()=>[l(a,null,{default:t(()=>[i(r(e.$t("bridgeClient.tooltips.subscribeTopics")),1)]),_:1})]),_:1})]),_:1}),l(v,{modelValue:e.bridgeClientForm.subTopics,"onUpdate:modelValue":o[15]||(o[15]=n=>e.bridgeClientForm.subTopics=n)},null,8,["modelValue"])])])]),_:1})]),_:1},8,["open","title","onOnClose","onOnSave"])])}const Be=F(fe,[["render",ke]]),Ae=T({name:"MQTTServerPage",components:{ServerBridgingTab:Be,ServerConfigurationTab:ge,PageHeader:j},data(){let e="configuration";return this.$route?.query?.tab?e=this.$route?.query?.tab:this.$router.replace({name:"mqttserver",query:{tab:e}}),{tab:e}},computed:{...N(R,["helpUrl"])},watch:{tab(){this.$router.push({name:"mqttserver",query:{...this.$route.query,tab:this.tab}})},$route:{handler(){this.$route.query.tab&&(this.tab=this.$route.query.tab)}}}}),Qe=["href"];function Ee(e,o,g,f,c,h){const v=$("PageHeader"),d=$("ServerConfigurationTab"),n=$("ServerBridgingTab");return C(),q(O,{class:"chariot-page-container"},{default:t(()=>[l(v,{title:e.$t("mqttServer.title"),icon:"build",help:!0},{popover:t(()=>[s("p",null,r(e.$t("mqttServer.serverHelp")),1),o[2]||(o[2]=i()),s("a",{target:"_blank",href:`${e.helpUrl}/Chariot+MQTT+Server+Configuration#ChariotMQTTServerConfiguration-MQTTServerConfiguration`},r(e.$t("shared.moreDetails"))+"...",9,Qe)]),_:1},8,["title"]),l(W,{class:"chariot-page-container-body"},{default:t(()=>[l(Q,{modelValue:e.tab,"onUpdate:modelValue":o[0]||(o[0]=S=>e.tab=S),dense:"","active-color":"primary-light",align:"justify"},{default:t(()=>[l(V,{name:"configuration",label:e.$t("mqttServer.configuration")},null,8,["label"]),l(V,{name:"bridging",label:e.$t("mqttServer.bridging")},null,8,["label"])]),_:1},8,["modelValue"]),l(D),l(E,{modelValue:e.tab,"onUpdate:modelValue":o[1]||(o[1]=S=>e.tab=S)},{default:t(()=>[l(y,{name:"configuration"},{default:t(()=>[l(d)]),_:1}),l(y,{name:"bridging"},{default:t(()=>[l(n)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const tl=F(Ae,[["render",Ee]]);export{tl as default};
